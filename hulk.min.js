!function(a){var b="=>",c=function(){var a=document.createElement("button");return a.setAttribute("id","hulk-save"),a.innerHTML="Save",a},d=function(b,c){a(b).on("click",c)},e=function(b){a(b).on("click",function(c){c.preventDefault();var d=a(b).next();a(b).hasClass("collapsed")?(a(b).text("Collapse"),a(d).slideDown("slow",function(){a(b).removeClass("collapsed")})):a(d).slideUp("slow",function(){a(b).addClass("collapsed"),a(b).text("Expand")})})},f=function(b,c){a(b).on("click",function(d){d.preventDefault();var e=o("",c);a(b).before(e)})},g=function(b,c){a(b).on("click",function(d){d.preventDefault();var e=o({"":""},c);a(b).before(e)})},h=function(b,c){a(b).on("click",function(d){d.preventDefault();var e=m("","",c);a(b).before(e)})},i=function(a,b,c){return"undefined"==typeof a?c:"undefined"==typeof a[b]?c:a[b]},j=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},k=function(a){return"object"==typeof a&&!(a instanceof Array)},l=function(a){try{return a.filter(k).length===a.length}catch(b){return!1}},m=function(c,d,f){var g=i(f,"separator",b),h=a(document.createElement("div"));h.addClass("hulk-map-pair");var j=a(document.createElement("input"));j.addClass("hulk-map-key"),j.attr("value",c),h.append(j);var k=a(document.createElement("p"));k.addClass("hulk-separator"),k.text(g),h.append(k);var l=q(d,f);if(l.addClass("hulk-map-value-container"),l.children(".hulk-map-pair, .hulk-array-element").length>0){var m=a(document.createElement("button"));m.addClass("hulk-collapse-item"),m.text("Collapse"),e(m),h.append(m)}return h.append(l),h},n=function(b,c){var d=a(document.createElement("div"));d.addClass("hulk-map");var e,f=[];for(e in b)b.hasOwnProperty(e)&&f.push(e);f.sort();for(var g=0;g<f.length;g++){e=f[g];var i=b[e],j=m(e,i,c);d.append(j)}var k=a(document.createElement("button"));return k.addClass("hulk-map-add-pair"),k.text("Add key/value pair"),h(k,c),d.append(k),d},o=function(b,c){var d=a(document.createElement("div"));return d.addClass("hulk-array-element"),d.html(q(b,c)),d},p=function(b,c){var d=a(document.createElement("div"));d.addClass("hulk-array");for(var e=0;e<b.length;e++){var h=o(b[e],c);d.append(h)}if(l(b)){var i=a(document.createElement("button"));i.addClass("hulk-array-add-pair"),i.text("Add key/value pair"),g(i,c),d.append(i)}else{var j=a(document.createElement("button"));j.addClass("hulk-array-add-row"),j.text("Add element"),f(j,c),d.append(j)}return d},q=function(b,c){var d=typeof b;if("string"===d||"number"===d||"boolean"===d||null===b){var e=a(document.createElement("input"));return e.addClass("hulk-map-value"),e.attr("value",b),e}return"[object Array]"===Object.prototype.toString.call(b)?p(b,c):n(b,c)},r=function(a,b){if(j(a))return parseFloat(a);if("true"===a)return!0;if("false"===a)return!1;if(null===a||"null"===a)return null;if(0===a.length){var c=i(b,"emptyString",!1);return c===!0?"":null}return a},s=function(b,c){var d=b.children(".hulk-map");if(d.length>0)return s(d,c);var e=b.children(".hulk-map-pair");if(e.length>0){var f={};return e.each(function(b,d){var e=a(d),g=e.children(".hulk-map-key");""!==g.val()&&(f[g.val()]=s(e.children(".hulk-map-value-container"),c))}),f}var g=b.children(".hulk-array");if(g.length>0)return s(g,c);if(b.hasClass("hulk-array")){var h=[];return b.children(".hulk-array-element").each(function(b,d){h.push(s(a(d),c))}),h}if(b.hasClass("hulk-map-value"))return r(b.val(),c);var i=b.children(".hulk-map-value");return i.length?s(i,c):b.hasClass("hulk-map-value-container")?s(b.children(".hulk-map-value"),c):{}};a.hulk=function(b,e,f,g){var h=a(b);if(h.addClass("hulk"),0===h.length)return console.error("Attempting to hulk-ify element with selector "+b+" failed because the element does not exist. "+"Quitting"),void 0;var i=q(e,g),j=c();return d(j,function(){var a=s(h.children(),g);f(a)}),h.html(i),h.append(j),h},a.hulkSmash=function(b,c){return s(a(b),c)}}(jQuery);